<!DOCTYPE html>
<html lang="ptBR">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400;1,700&display=swap"
      rel="stylesheet"
    />

    <title>Caderno</title>

    <style>
      
      /* * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      } */

      body {
        width: 60%;
        margin: 0 auto;
        font-size: 22px;
        text-align: justify;

        background-color: rgb(238, 238, 238);
      }
      img {
        width: 100%;
      }
      h1 {
        font-family: "Lato", sans-serif;
        font-weight: 700;
        font-size: 200%;
        text-align: center;
        margin: 100px 0;
        border: 3px solid black;
        padding: 10px 0;
      }
      h3 {
        font-family: "Lato", sans-serif;
        font-weight: 700;
        font-size: 150%;
        cursor: pointer;
      }

      p {
        font-family: "Lato", sans-serif;
        font-weight: 400;
        font-size: 100%;
        line-height: 150%;
      }

      .conteudo {
        display: none;
      }

      ion-icon {
        display: inline-block;
        text-align: center;
        /* font-size: 20px; */

        /* secrets to align text and icons */
        line-height: 120%;
        vertical-align: middle;
        margin-top: -10px;
      }

      .show {
        display: block;
      }

      @media (max-width: 1200px) {
        body {
          width: 95%;
        }
      }
    </style>
  </head>
  <body>
    <h1>Caderno de JavaScript</h1>

    <h3 id="topico">JavaScript - Definição</h3>
    <div class="conteudo">
      <ul>
        <li>
          <p>
            <strong>High-Level: </strong> Linguagens de alto nível não permitem
            que o programador controle o recurso que irá ser utilizado pelo
            programa.
          </p>
        </li>
        <li>
          <p>
            <strong>Garbage-collected: </strong> A coleta de lixo é um algoritmo
            dentro do JavaScript que remove automaticamente todos os objetos que
            não está sendo utilizados da memória.
          </p>
        </li>
        <li>
          <p>
            <strong>Interpreted or Just-in-time compiled:</strong>
            Dentro do JavaScript acontece a interpretação da linguagem de alto
            nível em linguagem de máquina. Os paradigmas podem ser classificados
            em
            <em>Imperativos</em> e <em>Declativos</em>.
          </p>
        </li>
        <li>
          <p>
            <strong>Multi-Paradigm: </strong> Existem três tipos de paradigma de
            programação: a procedural, a orientada a objetos e a funcional.
          </p>
        </li>
        <li>
          <p>
            <strong>Prototype-Based Object-Oriented: </strong>
            Tudo no JavaScript é um objeto, tirando os valores primitivos como:
            números, strings e etc. Mas os arrays são objetos também. Os
            <em>Prototypes</em> são as classes originárias, neles que ficam os
            métodos que depois utilizamos. Exemplo de prototypes:
            Array.prototype.push ou Array.prototype.indexOf. Esses métodos serão
            herdados por todos os arrays criados.
          </p>
        </li>
        <li>
          <p>
            <strong>First-class Functions: </strong> Dizer que ela é uma
            linguagem com funcões de primeira classe, significa que as funções
            podem ser tratadas como variavéis. Nós podemos passsar funções
            dentro de outras funções e retorna-las de outras funções também. É
            esse que permite o praradigma da programação funcional na linguagem.
          </p>
        </li>
        <li>
          <p>
            <strong>Dynamic: </strong> É uma linguagem ginâmica por ela é
            dinâmicamente tipada, ou seja, de tipagem fraca. Os tipos das
            variáveis são conhecidos no momento que o código está rodando.
          </p>
        </li>
        <li>
          <p>
            <strong>
              Event Loop Concurrency Model + Single-Threaded + Non-Blocking
              Event Loop:
            </strong>
            O Concurrency Model (modelo de simultaneidade) significa que o
            JavaScriptlida com várias tarefas acontecendo ao mesmo tempo. Mas
            ele trabalha apenas em um thread, significando que ele pode fazer
            apenas uma coisa de cada vez. Então o Non-Blocking Event Loop pega
            uma tarefa longa e a executa em segunda plano, e dpeois a colcoa no
            thread principal de novo quando essa tarefa termina.
          </p>
        </li>
      </ul>
    </div>

    <h3 id="topico">Compilation vs. Interpretation</h3>
    <div class="conteudo">
      <ul>
        <li>
          <p>
            <strong>Compilation: </strong> Na compilação, todo o código é
            convertido em linguagem de máquina de uma vez, e escrito em um
            arquivo binário que pode ser executado por qualquer computador.
          </p>
        </li>
        <li>
          <p>
            <strong>Interpretation: </strong> Na interpretação, existe um
            intérprete que percorre o código executando linha por linha. Mas o
            código ainda precisa ser convertido em linguagem de máquina. O
            JavaScript costumava ser uma linguagem de interpretação, mas esse
            tipo de linguagem costuma ser muito mais lenta que as linguagens
            compiladas.
          </p>
        </li>
        <li>
          <p>
            <strong>Just-in-time (JIT) compilation: </strong> Agora o
            JavaScriptusa uma msitura entre compilação e interpretação, a
            chamada Just-in-time Compilation. O programa é executado logo em
            seguida que o código é transformado em linguagem de máquina, e por
            isso, ele não é mais portatil, não gerando um arquivo que pode ser
            executado em outras máquinas.
          </p>
        </li>
      </ul>
      <img src="img/Compilation-Interpretation-JIT.PNG" alt="" />
    </div>

    <h3 id="topico">Como o JIT funciona</h3>
    <div class="conteudo">
      <p>
        O código JS é convertido pela AST que analisará o código procurando
        erros e reconhecendo as variáves. Em seguida o código é convertido em
        linguagem de máquina (compilado) e executado instantaneamente. Só que,
        enquanto o código já está sendo executado pelo V8, está acontecendo
        vários processos de otimização e recompilação do mesmo código. Isso
        acontece várias vezes, o código otimzado é simplesmente trocado por uma
        mais otimizado ainda, sem nunca interromper a execução. Toda essa
        análise, compilação e otimização acontece dentro de alguns threads
        especiais dentro do moto que não podem ser acessados por nós pelo
        código. Então, essa otimização acontece fora do thread principal, que
        está executando a Call Stack, executando o nosso próprio código.
      </p>
      <img src="img/How-To-Works-JIT.PNG" alt="" />
    </div>

    <h3 id="topico">JavaScript JIT</h3>
    <div class="conteudo">
      <p>
        O Runtime acontece nos navegadores por causa da engine do JS. Mas só o
        motor (engine) não é o suficiente, é preciso também das WEB APIs: DOM,
        Timers, o Console.log(). As WEB APIs são fornecidas pela engine e não
        estão pela prórpia linguagem JS. O JS obtem acesso as essas WEB APIs
        pelo objeto global window. O JavaScript Runtime também precisa que se
        tenha a Callback Queue (Fila de retorno de chamadas), parque todas as
        funções de retorno de chamadas estejam prontas para serem executadas.
      </p>
      <p>
        O Event Loop pega as funções do Callback Queue e as colocam no Call
        Stack para que elas sejam executadas. Vale lembrar que o Event Loop é
        essencial para o <em>Non-blocking concurrency model</em>.
      </p>
      <p>Execução do JS nos navegadores:</p>
      <img src="img/Runtime-JS-Browser.PNG" alt="" />
      <p>Execução do JS no Node.JS:</p>
      <img src="img/Runtime-JS-NodeJS.PNG" alt="" />
      <h3>Execution Context</h3>
      <p>
        Existe um contexto de execução global que após o código ser compilado,
        ele é criado e executado. Dentro desse contexto global estaram as
        variáveis globais e as funções. Cada função tem o seu contexto de
        execução, como se fosse uma caixinha com suas váriáveis e métodos.
      </p>
      <p>
        Itens dentro de um contexto de execução: variáveis do ambiente
        (variáveis, funções e argumentos dos objetos); Corrente de escopo - que
        consistem em referências as variavéis que estão fora do contexto da
        função; e a palavra-chave this. Vale ressaltar que os contextos de
        execução das arrow functions não tem os argumentos dos objetos e a
        palavra-chave this. Mas elas podem usar os argumentos dos objetos e a
        plavra-chave this de alguma função pai sua que seja uma função regular.
      </p>
      <img src="img/Execution-Context.PNG" alt="" />
      <p>
        O contexto de execução que está no topo é o contexto que atualmente está
        sendo executado, pois foi a última função que foi requistada. Enquanto
        isso, os outros contextos não estãos endo executados, esperando que a
        última função seja finalizada, trazendo ou fazendo o que é esperado
        dela.Isso acontece dessa maneira, uma coisa de cada vez, porque o
        JavaScript apenas executa em um thread. Uma detalhe é que mesmo após a
        função ser finalizada e tirada da Call Stack, parte de seu contexto pode
        continuar vivendo no memória, não sendo o contexto totalmente destruido.
        O contexto global apenas é finalizado quando fechamos a aba ou o
        navegador.
      </p>
      <img src="img/Call-Stacks-Execution-Context.PNG" alt="" />
    </div>

    <h3 id="topico">Scope and the Scope Chain</h3>
    <div class="">

    <h3 id="topico"></h3>
    <div class=""></div>


    <script src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>
  </body>
  <script>
    const elemento = document.querySelectorAll("#topico");
    elemento.forEach(function (el) {
      el.addEventListener("click", function (e) {
        el.nextElementSibling.classList.toggle("conteudo");
        console.log(el);
      });
    });
  </script>
</html>
